{"mappings":"YACA,IAAMA,EAAW,2BACjBC,QAAU,qCAEV,IAAMC,EAAa,QACbC,EAAc,aAGhBC,EAAO,ECLX,IAAIC,EAAOC,SAASC,cAAc,gBAC9BC,EAAUF,SAASC,cAAc,YACjCE,EAAUH,SAASC,cAAc,aAgDrC,SAASG,EAASC,GAChB,IAAQC,EAA0DD,EAA1DC,aAAcC,EAA4CF,EAA5CE,KAAMC,EAAsCH,EAAtCG,MAAOC,EAA+BJ,EAA/BI,MAAOC,EAAwBL,EAAxBK,SAAUC,EAAcN,EAAdM,UACpD,MAAO,2CAC6BC,OAAtBN,EAAa,WAGNM,OAHeL,EAAK,0IAMpBK,OAHAH,EAAM,oEAMHG,OAHHJ,EAAM,uEAMFI,OAHDF,EAAS,wEAGEE,OAAVD,EAAU,qC,CA7DrCZ,EAAKc,iBAAiB,UAAU,SAAAC,GAUhC,IDP0BC,ECFxBD,EAAIE,iBDEoBD,ECDJD,EAAIG,OAAOC,YAAYC,MDEpCC,MACL,GAAmBR,OAAhBlB,EAAS,SAA6BkB,OAAtBjB,QAAQ,gBAA8BiB,OAAhBhB,EAAW,OAAyBgB,OAApBG,EAAK,iBAAyCH,OAA1Bf,EAAY,gBAAqCe,QAN/G,EAMmG,cAAqBA,OAL1H,GAK0H,YAEtIS,MAAK,SAAAC,G,OAAYA,EAASC,M,IAC1BC,OAAM,SAAAC,GACL,MAAMA,C,ICGPJ,MAAK,SAAAK,GACoB,GAApBA,EAAOC,UAIXzB,EAAQ0B,UAAYF,EAAOG,KACxBC,KAAI,SAAAzB,GACH,OAAOD,EAASC,E,IAEjB0B,KAAK,IAPNC,QAAQC,IAAI,e,IASfT,OAAM,SAAAC,GACL,MAAMA,C,OAnBZtB,EAAQU,iBAAiB,SAAS,WAuBlC,IDhB8BE,ICNAf,SAASC,cAAc,iBAAiBkB,MDOpErB,GAAQ,EACDsB,MACL,GAAmBR,OAAhBlB,EAAS,SAA6BkB,OAAtBjB,QAAQ,gBAA8BiB,OAAhBhB,EAAW,OAAyBgB,OAApBG,EAAK,iBAAyCH,OAA1Bf,EAAY,gBAAqCe,QAhB/G,EAgBmG,cAA6BA,OAflI,GAe0H,UAAaA,OAALd,IAE9IuB,MAAK,SAAAC,G,OAAYA,EAASC,M,IAC1BC,OAAM,SAAAC,GACL,MAAMA,C,ICWPJ,MAAK,SAAAK,GACoB,GAApBA,EAAOC,UAIXzB,EAAQ0B,WAAaF,EAAOG,KACzBC,KAAI,SAAAzB,GACH,OAAOD,EAASC,E,IAEjB0B,KAAK,IAPNC,QAAQC,IAAI,e,IASfT,OAAM,SAAAC,GACL,MAAMA,C","sources":["src/fetch-images.js","src/index.js"],"sourcesContent":["// ## Initializing ##\nconst BASE_URL = 'https://pixabay.com/api/';\nAPI_KEY = '38966446-c32fc19d0a971996be7b08c24';\n\nconst image_type = 'photo';\nconst orientation = 'horizontal';\nconst safesearch = true;\nconst per_page = 40;\nlet page = 1;\n\nexport function getImages(text) {\n  return fetch(\n    `${BASE_URL}?key=${API_KEY}&image_type=${image_type}&q=${text}&orientation=${orientation}&safesearch=${safesearch}&per_page=${per_page}&page=1`\n  )\n    .then(response => response.json())\n    .catch(error => {\n      throw error;\n    });\n}\nexport function getImagesNext(text) {\n  page += 1;\n  return fetch(\n    `${BASE_URL}?key=${API_KEY}&image_type=${image_type}&q=${text}&orientation=${orientation}&safesearch=${safesearch}&per_page=${per_page}&page=${page}`\n  )\n    .then(response => response.json())\n    .catch(error => {\n      throw error;\n    });\n}\n","// Import\nimport { getImages, getImagesNext } from './fetch-images';\n// ## Initialization ##\nlet form = document.querySelector('.search-form');\nlet gallery = document.querySelector('.gallery');\nlet btnLoad = document.querySelector('[js-load]');\n// Function on search\nform.addEventListener('submit', evt => {\n  evt.preventDefault();\n  setMarkup(getImages(evt.target.searchQuery.value));\n});\n\nbtnLoad.addEventListener('click', () => {\n  setMarkupNext(getImagesNext(document.querySelector(\"[type='text']\").value));\n});\n\n// Setting markup for gallery\nfunction setMarkup(response) {\n  response\n    .then(images => {\n      if (images.totalHits == 0) {\n        console.log('Not found!!!');\n        return;\n      }\n      gallery.innerHTML = images.hits\n        .map(image => {\n          return setImage(image);\n        })\n        .join('');\n    })\n    .catch(error => {\n      throw error;\n    });\n}\n\nfunction setMarkupNext(response) {\n  response\n    .then(images => {\n      if (images.totalHits == 0) {\n        console.log('Not found!!!');\n        return;\n      }\n      gallery.innerHTML += images.hits\n        .map(image => {\n          return setImage(image);\n        })\n        .join('');\n    })\n    .catch(error => {\n      throw error;\n    });\n}\n\nfunction setImage(image) {\n  const { webformatURL, tags, views, likes, comments, downloads } = image;\n  return `<div class=\"photo-card\">\n    <img src=\"${webformatURL}\" alt=\"${tags}\" width=\"335\" height=\"200\" class=\"image\" loading=\"lazy\" />\n    <div class=\"info\">\n      <p class=\"info-item\">\n        <b>Likes</b> ${likes}\n      </p>\n      <p class=\"info-item\">\n        <b>Views</b> ${views}\n      </p>\n      <p class=\"info-item\">\n        <b>Comments</b> ${comments}\n      </p>\n      <p class=\"info-item\">\n        <b>Downloads</b> ${downloads}\n      </p>\n    </div>\n  </div>`;\n}\n"],"names":["$b6fe3361e5e63a7b$var$BASE_URL","API_KEY","$b6fe3361e5e63a7b$var$image_type","$b6fe3361e5e63a7b$var$orientation","$b6fe3361e5e63a7b$var$page","$b8f9b7833fa37166$var$form","document","querySelector","$b8f9b7833fa37166$var$gallery","$b8f9b7833fa37166$var$btnLoad","$b8f9b7833fa37166$var$setImage","image","webformatURL","tags","views","likes","comments","downloads","concat","addEventListener","evt","text","preventDefault","target","searchQuery","value","fetch","then","response","json","catch","error","images","totalHits","innerHTML","hits","map","join","console","log"],"version":3,"file":"index.f12aa2ca.js.map"}